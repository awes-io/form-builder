/**
 * Bundle of AWES form-builder transpiled and polyfilled
 * Generated: 2019-02-12
 * Version: 1.0.10
 */

!function(){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t=e(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),i=e(function(e){var t=e.exports={version:"2.6.3"};"number"==typeof __e&&(__e=t)}),n=(i.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),r=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e},o=function(e){try{return!!e()}catch(e){return!0}},s=!o(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),a=t.document,l=n(a)&&n(a.createElement),u=function(e){return l?a.createElement(e):{}},c=!s&&!o(function(){return 7!=Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a}),d=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")},f=Object.defineProperty,h={f:s?Object.defineProperty:function(e,t,i){if(r(e),t=d(t,!0),r(i),c)try{return f(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},p=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},m=s?function(e,t,i){return h.f(e,t,p(1,i))}:function(e,t,i){return e[t]=i,e},v={}.hasOwnProperty,b=function(e,t){return v.call(e,t)},g=0,y=Math.random(),k=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++g+y).toString(36))},w=e(function(e){var n=k("src"),r=Function.toString,o=(""+r).split("toString");i.inspectSource=function(e){return r.call(e)},(e.exports=function(e,i,r,s){var a="function"==typeof r;a&&(b(r,"name")||m(r,"name",i)),e[i]!==r&&(a&&(b(r,n)||m(r,n,e[i]?""+e[i]:o.join(String(i)))),e===t?e[i]=r:s?e[i]?e[i]=r:m(e,i,r):(delete e[i],m(e,i,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[n]||r.call(this)})}),E=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},F=function(e,t,i){if(E(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}},S=function(e,n,r){var o,s,a,l,u=e&S.F,c=e&S.G,d=e&S.S,f=e&S.P,h=e&S.B,p=c?t:d?t[n]||(t[n]={}):(t[n]||{}).prototype,v=c?i:i[n]||(i[n]={}),_=v.prototype||(v.prototype={});for(o in c&&(r=n),r)a=((s=!u&&p&&void 0!==p[o])?p:r)[o],l=h&&s?F(a,t):f&&"function"==typeof a?F(Function.call,a):a,p&&w(p,o,a,e&S.U),v[o]!=a&&m(v,o,l),f&&_[o]!=a&&(_[o]=a)};t.core=i,S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128;var x=S,C={}.toString,A=function(e){return C.call(e).slice(8,-1)},$=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==A(e)?e.split(""):Object(e)},O=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},I=function(e){return $(O(e))},D=Math.ceil,T=Math.floor,R=function(e){return isNaN(e=+e)?0:(e>0?T:D)(e)},N=Math.min,M=function(e){return e>0?N(R(e),9007199254740991):0},j=Math.max,L=Math.min,P=function(e){return function(t,i,n){var r,o=I(t),s=M(o.length),a=function(e,t){return(e=R(e))<0?j(e+t,0):L(e,t)}(n,s);if(e&&i!=i){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===i)return e||a||0;return!e&&-1}},V=e(function(e){var n=t["__core-js_shared__"]||(t["__core-js_shared__"]={});(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),W=e(function(e){var i=V("wks"),n=t.Symbol,r="function"==typeof n;(e.exports=function(e){return i[e]||(i[e]=r&&n[e]||(r?n:k)("Symbol."+e))}).store=i}),B=W("unscopables"),U=Array.prototype;null==U[B]&&m(U,B,{});var z=function(e){U[B][e]=!0},H=P(!0);x(x.P,"Array",{includes:function(e){return H(this,e,arguments.length>1?arguments[1]:void 0)}}),z("includes");var q=W("match"),X=function(e){var t;return n(e)&&(void 0!==(t=e[q])?!!t:"RegExp"==A(e))},Y=W("match");x(x.P+x.F*function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[Y]=!1,!"/./"[e](t)}catch(e){}}return!0}("includes"),"String",{includes:function(e){return!!~function(e,t,i){if(X(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(O(e))}(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}});var G=0,Z=[{type:"beforeunload",handler:"windowUnloadHandler"},{type:"popstate",handler:"popStateHandler"}],K={name:"form-builder",props:{cancelbtn:{type:Boolean,default:!1},name:{type:String,default:function(){return"form-builder-".concat(G++)}},url:{type:String,required:!0},sendText:String,cancelText:String,loadingText:String,default:{type:Object,default:null},method:{type:String,default:"post",validator:function(e){return void 0===e||["get","put","post","delete","patch"].includes(e.toLowerCase())}},storeData:String,disabledDialog:{type:Boolean,default:!1},autoSubmit:{type:Boolean,default:!1}},inject:{modal:{from:"modal",default:!1}},provide:function(){return{formId:this.name,isModal:!!this.modal}},data:function(){return{loading:!1,serverData:null,serverDataErrors:null,showLoader:!1}},computed:{form:function(){return this.$awesForms.getters.form(this.name)},isEdited:function(){return this.$awesForms.getters.isEdited(this.name)},isBlocked:function(){return this.$awesForms.getters.isBlocked(this.name)},workingState:function(){return this.$awesForms.getters.workingState(this.name)},storeFormData:function(){return!!this.storeData&&AWES._store.state[this.storeData]},usedFormData:function(){return this.storeFormData?(this.default&&console.warn("Only VUEX STORE data will be used, despite DEFAULT data exists"),this.storeFormData):!!this.default&&this.default}},watch:{usedFormData:{handler:function(e){this.form||(this.createForm(),e&&this.$awesForms.commit("setDefaultData",{id:this.name,fields:e}))},deep:!0,immediate:!0},loading:function(e){this.$awesForms.commit("toggleFormLoading",{id:this.name,isLoading:e})},serverData:function(e){e&&(this.storeData?AWES._store.commit("setData",{param:this.storeData,data:e.data}):this.$awesForms.commit("setDefaultData",{id:this.name,fields:e.data}),this.$awesForms.commit("resetFormEdited",this.name),this.serverData=null,this.$emit("sended",e.data||!0),this.modal&&this.close(this.modal.name))},serverDataErrors:function(e){e&&(this.$awesForms.commit("setErrors",{id:this.name,errors:e}),this.serverDataErrors=null,this.disabledDialog||this.addUnloadHandlers())}},methods:{createForm:function(){this.$awesForms.commit("createForm",{id:this.name,url:this.url,method:this.method})},send:function(){var e=this;AWES.emit("form-builder:before-send"),this.loading||this.isBlocked||!this.isEdited||(this.$listeners.hasOwnProperty("send")?this.$emit("send",this.workingState):(this.removeUnloadHandlers(),this.$awesForms.commit("resetErrors",this.name),this.loading=!0,AWES.on("core:ajax",this.onRequestProcess),AWES.ajax(this.workingState,this.url,this.method).then(function(t){t.success&&(e.serverData=t.data||{}),!t.success&&t.data&&(e.serverDataErrors=t.data)}).finally(function(){e.loading=!1,e.showLoader=!1,AWES.off("core:ajax",e.onRequestProcess)})))},onRequestProcess:function(e){this.showLoader=e.detail},addUnloadHandlers:function(){var e=this;Z.forEach(function(t){window.addEventListener(t.type,e[t.handler],!1)})},removeUnloadHandlers:function(){var e=this;Z.forEach(function(t){window.removeEventListener(t.type,e[t.handler])})},checkCloseAllowed:function(){return!!this.disabledDialog||(!this.isEdited||confirm(this.$lang.FORMS_CONFIRM))},popStateHandler:function(){if(this.removeUnloadHandlers(),this.checkCloseAllowed())this.modal&&this.close();else{var e=this.modal?this.modal.hash:"",t=location.href+e;history.pushState({modal:e},document.title,t),this.addUnloadHandlers()}},windowUnloadHandler:function(e){return!(!this.disabledDialog&&this.isEdited)||(e.returnValue=this.$lang.FORMS_CONFIRM,this.$lang.FORMS_CONFIRM)},close:function(){this.checkCloseAllowed()&&(this.removeUnloadHandlers(),AWES.off("modal::".concat(this.modal.name,".before-close"),this.preventModalClose),AWES.emit("modal::".concat(this.modal.name,".close")))},preventModalClose:function(e){e.detail.preventClose(),this.close()}},created:function(){var e=this;this.$root.$on("forms:submit",function(t){e.name===t&&e.send()}),this.modal&&(this.__unwatchModalPrevent=this.$watch("isEdited",function(t){AWES.on("modal::".concat(e.modal.name,".before-close"),e.preventModalClose)}))},mounted:function(){this.addUnloadHandlers(),this.autoSubmit&&(this._unwatchEdit=this.$watch("form.editCounter",this.send))},beforeDestroy:function(){this.removeUnloadHandlers(),"function"==typeof this.__unwatchModalPrevent&&this.__unwatchModalPrevent(),this.$awesForms.commit("deleteForm",this.name),"function"==typeof this._unwatchEdit&&this._unwatchEdit(),AWES.off("modal::".concat(this.modal.name,".before-close"),this.preventModalClose)}};function J(e,t,i,n,r,o,s,a,l,u){"function"==typeof s&&(l=a,a=s,s=!1);const c="function"==typeof i?i.options:i;let d;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,r&&(c.functional=!0)),n&&(c._scopeId=n),o?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=d):t&&(d=s?function(){t.call(this,u(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),d)if(c.functional){const e=c.render;c.render=function(t,i){return d.call(i),e(t,i)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,d):[d]}return i}var Q=K;K.__file="form-builder.vue";var ee=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"form-builder",class:{modal_form:e.modal},attrs:{action:e.url,method:e.method}},[i("div",{staticClass:"grid grid_forms"},[e._t("default",null,{fields:e.workingState})],2),e._v(" "),e.autoSubmit?e._e():i("div",{class:e.modal?"line-btns":null},[i("div",{class:e.modal?"line-btns__wrap":"line-btns"},[i("button",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","enter"],expression:"['ctrl', 'enter']"}],staticClass:"btn btn-send waves-effect waves-button",class:{"loading-inline":e.showLoader},attrs:{disabled:!e.isEdited||e.isBlocked,"data-loading":e.$lang.FORMS_LOADING,type:"submit","data-awes":"modal_button_ok"},on:{shortkey:e.send,click:function(t){return t.preventDefault(),e.send(t)}},nativeOn:{click:function(t){return t.preventDefault(),e.send(t)}}},[e._v("\n          "+e._s(e.sendText||e.$lang.FORMS_SEND)+"\n        ")]),e._v(" "),e.modal||e.cancelbtn?i("button",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["esc"],expression:"['esc']"}],staticClass:"btn waves-effect waves-button",class:{btn_transparent:e.cancelbtn},attrs:{type:"button"},on:{shortkey:e.close,click:function(t){t.preventDefault(),e.modal?e.close():e.$emit("cancel")}}},[e._v("\n          "+e._s(e.cancelText||e.$lang.FORMS_CANCEL)+"\n        ")]):e._e(),e._v(" "),e._t("buttons-after")],2)])])},staticRenderFns:[]},void 0,Q,void 0,!1,void 0,void 0,void 0),te={name:"error-wrap",inject:{isModal:{from:"isModal",default:!1}},props:{open:{type:Boolean,default:!1},placement:{type:String,default:"top"},error:{type:Array}}},ie=te;te.__file="fb-error-wrap.vue";var ne=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-popover",{staticClass:"display-block",attrs:{placement:e.placement,open:e.open,"popover-class":["theme-error",{tooltip_modal:e.isModal}]}},[e._t("default"),e._v(" "),e.open?i("span",{staticClass:"tooltip__text",attrs:{slot:"popover"},on:{click:function(t){e.$emit("clickTooltip")}},slot:"popover"},[e.error?i("span",{staticClass:"errors__list"},e._l(e.error,function(t,n){return i("span",{key:n},[e._v(e._s(t))])}),0):e._e()]):e._e()],2)},staticRenderFns:[]},void 0,ie,void 0,!1,void 0,void 0,void 0),re={f:{}.propertyIsEnumerable},oe=Object.getOwnPropertyDescriptor,se={f:s?oe:function(e,t){if(e=I(e),t=d(t,!0),c)try{return oe(e,t)}catch(e){}if(b(e,t))return p(!re.f.call(e,t),e[t])}},ae=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")},le={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=F(Function.call,se.f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return ae(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:ae}.set,ue=V("keys"),ce=function(e){return ue[e]||(ue[e]=k(e))},de=P(!1),fe=ce("IE_PROTO"),he=function(e,t){var i,n=I(e),r=0,o=[];for(i in n)i!=fe&&b(n,i)&&o.push(i);for(;t.length>r;)b(n,i=t[r++])&&(~de(o,i)||o.push(i));return o},pe="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),me=pe.concat("length","prototype"),ve={f:Object.getOwnPropertyNames||function(e){return he(e,me)}},_e="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",be="["+_e+"]",ge=RegExp("^"+be+be+"*"),ye=RegExp(be+be+"*$"),ke=function(e,t,i){var n={},r=o(function(){return!!_e[e]()||"​"!="​"[e]()}),s=n[e]=r?t(we):_e[e];i&&(n[i]=s),x(x.P+x.F*r,"String",n)},we=ke.trim=function(e,t){return e=String(O(e)),1&t&&(e=e.replace(ge,"")),2&t&&(e=e.replace(ye,"")),e},Ee=ke,Fe=Object.keys||function(e){return he(e,pe)},Se=s?Object.defineProperties:function(e,t){r(e);for(var i,n=Fe(t),o=n.length,s=0;o>s;)h.f(e,i=n[s++],t[i]);return e},xe=t.document,Ce=xe&&xe.documentElement,Ae=ce("IE_PROTO"),$e=function(){},Oe=function(){var e,t=u("iframe"),i=pe.length;for(t.style.display="none",Ce.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),Oe=e.F;i--;)delete Oe.prototype[pe[i]];return Oe()},Ie=Object.create||function(e,t){var i;return null!==e?($e.prototype=r(e),i=new $e,$e.prototype=null,i[Ae]=e):i=Oe(),void 0===t?i:Se(i,t)},De=ve.f,Te=se.f,Re=h.f,Ne=Ee.trim,Me=t.Number,je=Me,Le=Me.prototype,Pe="Number"==A(Ie(Le)),Ve="trim"in String.prototype,We=function(e){var t=d(e,!1);if("string"==typeof t&&t.length>2){var i,n,r,o=(t=Ve?t.trim():Ne(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(i=t.charCodeAt(2))||120===i)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var s,a=t.slice(2),l=0,u=a.length;l<u;l++)if((s=a.charCodeAt(l))<48||s>r)return NaN;return parseInt(a,n)}}return+t};if(!Me(" 0o1")||!Me("0b1")||Me("+0x1")){Me=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof Me&&(Pe?o(function(){Le.valueOf.call(i)}):"Number"!=A(i))?function(e,t,i){var r,o=t.constructor;return o!==i&&"function"==typeof o&&(r=o.prototype)!==i.prototype&&n(r)&&le&&le(e,r),e}(new je(We(t)),i,Me):We(t)};for(var Be,Ue=s?De(je):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),ze=0;Ue.length>ze;ze++)b(je,Be=Ue[ze])&&!b(Me,Be)&&Re(Me,Be,Te(je,Be));Me.prototype=Le,Le.constructor=Me,w(t,"Number",Me)}var He={props:{name:{type:String,required:!0},id:Number,disabled:{type:Boolean,default:!1},cell:{type:[String,Number],validator:function(e){return["2","3"].includes(e.toString())}}},inject:{formId:{from:"formId",default:!1},isModal:{from:"isModal",default:!1},multiblock:{from:"multiblock",default:!1}},data:function(){return{tooltip:!1,hasError:!1}},computed:{realName:function(){return this.multiblock?"".concat(this.multiblock,".").concat(this.id,".").concat(this.name):this.name},computedValue:function(){return this.$awesForms.getters.fieldValue(this.formId,this.realName)},formLoading:function(){return this.$awesForms.getters.loading(this.formId)},inActive:function(){return!(!this.inFocus&&!this.value)},isDisabled:function(){return this.formLoading||this.disabled||this.isMultiblockDisabled},isMultiblockDisabled:function(){return!!this.multiblock&&this.$awesForms.getters.multiblockDisabled(this.formId,this.multiblock)},cellClass:function(){return this.cell?"grid__cell_"+this.cell:""},error:function(){return this.$awesForms.getters.fieldError(this.formId,this.realName)},firstErrorField:function(){return this.$awesForms.getters.firstErrorField(this.formId)},shake:function(){return!this.formLoading&&this.tooltip}},watch:{error:{handler:function(e){e?(this.tooltip=!0,this.hasError=!0,this.$refs.element&&this.$refs.element.addEventListener("input",this.resetError,!1),"function"==typeof this.setFocus&&this.$nextTick(this.checkFocus)):(this.tooltip=!1,this.hasError=!1,this.resetInputWatcher())},immediate:!0}},methods:{createStoreInstance:function(){this.$awesForms.commit("setField",{id:this.formId,fieldName:this.realName,value:this.value,initial:!0})},initField:function(){void 0!==this.computedValue&&(this.value=this.computedValue),this.createStoreInstance(),this.__unwatchValue=this.$watch("value",this.valueHandler),this.multiblock&&(this.__unwatchId=this.$watch("id",this.idHandler))},idHandler:function(e,t){var i="".concat(this.multiblock,".").concat(t,".").concat(this.name),n=this.$awesForms.getters.fieldError(this.formId,i);n&&this.$awesForms.commit("renameError",{id:this.formId,oldName:i,newName:this.realName,message:n})},valueHandler:function(e){this.$awesForms.commit("setField",{id:this.formId,fieldName:this.realName,value:e})},clickTooltip:function(){this.tooltip=!1,"function"==typeof this.setFocus&&this.setFocus()},resetError:function(){this.tooltip=!1,this.$awesForms.commit("resetError",{id:this.formId,fieldName:this.realName}),this.resetInputWatcher()},resetInputWatcher:function(){this.$refs.element&&this.$refs.element.removeEventListener("input",this.resetError)},resetValue:function(e){this.formId===e&&(this.value=void 0)},checkFocus:function(){this.firstErrorField===this.realName&&(setTimeout(this.setFocus,0),this.$awesForms.commit("resetFirstErrorField",this.formId))}},created:function(){this.initField(),this.$root.$on("forms:reset",this.resetValue)},beforeDestroy:function(){this.multiblock&&(this.resetError(),this.$awesForms.commit("unsetRealField",{id:this.formId,fieldName:this.realName})),this.__unwatchValue(),"function"==typeof this.__unwatchId&&this.__unwatchId(),this.resetInputWatcher(),this.$root.$off("forms:reset",this.resetValue)}},qe=function(e){return Object(O(e))},Xe=function(e,t,i,n){try{return n?t(r(i)[0],i[1]):t(i)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}},Ye={},Ge=W("iterator"),Ze=Array.prototype,Ke=function(e,t,i){t in e?h.f(e,t,p(0,i)):e[t]=i},Je=W("toStringTag"),Qe="Arguments"==A(function(){return arguments}()),et=function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Je))?i:Qe?A(t):"Object"==(n=A(t))&&"function"==typeof t.callee?"Arguments":n},tt=W("iterator"),it=i.getIteratorMethod=function(e){if(null!=e)return e[tt]||e["@@iterator"]||Ye[et(e)]},nt=W("iterator"),rt=!1;try{[7][nt]().return=function(){rt=!0}}catch(e){}x(x.S+x.F*!function(e,t){if(!t&&!rt)return!1;var i=!1;try{var n=[7],r=n[nt]();r.next=function(){return{done:i=!0}},n[nt]=function(){return r},e(n)}catch(e){}return i}(function(e){}),"Array",{from:function(e){var t,i,n,r,o,s=qe(e),a="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,c=void 0!==u,d=0,f=it(s);if(c&&(u=F(u,l>2?arguments[2]:void 0,2)),null!=f&&(a!=Array||(void 0===(o=f)||Ye.Array!==o&&Ze[Ge]!==o)))for(r=f.call(s),i=new a;!(n=r.next()).done;d++)Ke(i,d,c?Xe(r,u,[n.value,d],!0):n.value);else for(i=new a(t=M(s.length));t>d;d++)Ke(i,d,c?u(s[d],d):s[d]);return i.length=d,i}});var ot=Array.isArray||function(e){return"Array"==A(e)},st=W("species"),at=function(e,t){return new(function(e){var t;return ot(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!ot(t.prototype)||(t=void 0),n(t)&&null===(t=t[st])&&(t=void 0)),void 0===t?Array:t}(e))(t)},lt=function(e,t){var i=1==e,n=2==e,r=3==e,o=4==e,s=6==e,a=5==e||s,l=t||at;return function(t,u,c){for(var d,f,h=qe(t),p=$(h),m=F(u,c,3),v=M(p.length),_=0,b=i?l(t,v):n?l(t,0):void 0;v>_;_++)if((a||_ in p)&&(f=m(d=p[_],_,h),e))if(i)b[_]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return _;case 2:b.push(d)}else if(o)return!1;return s?-1:r||o?o:b}},ut=lt(6),ct="findIndex",dt=!0;ct in[]&&Array(1)[ct](function(){dt=!1}),x(x.P+x.F*dt,"Array",{findIndex:function(e){return ut(this,e,arguments.length>1?arguments[1]:void 0)}}),z(ct);var ft=function(e,t){return{value:t,done:!!e}},ht=h.f,pt=W("toStringTag"),mt=function(e,t,i){e&&!b(e=i?e:e.prototype,pt)&&ht(e,pt,{configurable:!0,value:t})},vt={};m(vt,W("iterator"),function(){return this});var _t=function(e,t,i){e.prototype=Ie(vt,{next:p(1,i)}),mt(e,t+" Iterator")},bt=ce("IE_PROTO"),gt=Object.prototype,yt=Object.getPrototypeOf||function(e){return e=qe(e),b(e,bt)?e[bt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?gt:null},kt=W("iterator"),wt=!([].keys&&"next"in[].keys()),Et=function(){return this};!function(e,t,i,n,r,o,s){_t(i,t,n);var a,l,u,c=function(e){if(!wt&&e in p)return p[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},d=t+" Iterator",f="values"==r,h=!1,p=e.prototype,v=p[kt]||p["@@iterator"]||r&&p[r],_=v||c(r),b=r?f?c("entries"):_:void 0,g="Array"==t&&p.entries||v;if(g&&(u=yt(g.call(new e)))!==Object.prototype&&u.next&&(mt(u,d,!0),"function"!=typeof u[kt]&&m(u,kt,Et)),f&&v&&"values"!==v.name&&(h=!0,_=function(){return v.call(this)}),(wt||h||!p[kt])&&m(p,kt,_),Ye[t]=_,Ye[d]=Et,r)if(a={values:f?_:c("values"),keys:o?_:c("keys"),entries:b},s)for(l in a)l in p||w(p,l,a[l]);else x(x.P+x.F*(wt||h),t,a)}(Array,"Array",function(e,t){this._t=I(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,ft(1)):ft(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values");Ye.Arguments=Ye.Array,z("keys"),z("values"),z("entries");function Ft(e,t,i){function n(e){if(!i||0===Object.keys(i).length)return e;for(var t in i)e[t]=i[t];return e}if(document.createEvent){var r=new Event(e,{bubbles:!0,cancelable:!0});t.dispatchEvent(n(r))}else{var o=document.createEventObject();t.fireEvent("on"+e,n(o))}}!function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),x(x.S+x.F*o(function(){n(1)}),"Object",r)}("keys",function(){return function(e){return Fe(qe(e))}});var St={props:{enterSkip:{type:Boolean,default:!1},focus:{type:Boolean,default:!1}},data:function(){return{inFocus:this.focus}},computed:{isFocusable:function(){return!this.enterSkip&&!this.disabled&&this.formId}},methods:{focusNext:function(e){var t=this;try{var i=e.target.closest("form"),n=i.querySelectorAll(".is-focusable"),r=Array.from(n).findIndex(function(t){return t===e.target})+1;if(r<n.length)n[r].focus();else{e.target.blur();var o=i.querySelector('[type="submit"]');this.$nextTick(function(){o.click(),t.initWawesEffect(o)})}}catch(e){console.warn("Error while setting focus"),console.error(e)}},setFocus:function(e){try{var t=!1!==e?"focus":"blur";this.$refs.element[t]()}catch(e){console.warn("Error while setting focus"),console.error(e)}},initWawesEffect:function(e){var t={top:0,left:0};"function"==typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect()),Ft("mousedown",e,{pageY:t.top+window.pageYOffset-document.documentElement.clientTop+e.clientHeight/2,pageX:t.left+window.pageXOffset-document.documentElement.clientLeft+e.clientWidth/2}),setTimeout(Ft,250,"mouseup",e)}},mounted:function(){this.setFocus(this.focus)}},xt=0,Ct={name:"fb-input",inheritAttrs:!1,mixins:[He,St],props:{label:{type:String,default:""},spellcheck:{type:Boolean,default:!1},mask:String},data:function(){return{value:"",inputType:this.$attrs.type||"text",autoFilled:!1}},computed:{inputId:function(){return"input-"+xt++}},methods:{togglePassword:function(){this.setFocus(),"password"===this.inputType?this.inputType="text":this.inputType="password"},autoFillHack:function(e){switch(e.animationName){case"autoFillStart":this.autoFilled=!0;break;case"autoFillEnd":this.autoFilled=!1}}}},At=Ct;Ct.__file="fb-input.vue";var $t=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid__cell",class:[e.cellClass]},[i("div",{class:["fb-input",{"fb-input_disabled":e.isDisabled,"fb-input_active":e.inActive||e.autoFilled,"fb-input_error":e.hasError,"animated shake":e.shake}]},[i("fb-error-wrap",{attrs:{open:e.tooltip,error:e.error},on:{clickTooltip:e.clickTooltip}},[i("label",{staticClass:"fb-input__label fb-input__label_field",attrs:{for:"#"+e.inputId}},[e._v(e._s(e.label))]),e._v(" "),"checkbox"===e.inputType&&e.mask?i("input",e._b({directives:[{name:"mask",rawName:"v-mask",value:e.mask,expression:"mask"},{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"element",class:["fb-input__field",{"is-focusable":e.isFocusable},{"in-focus":e.inFocus},{"fb-input__field_password":"password"===e.$attrs.type}],attrs:{id:e.inputId,"data-awes":e.$options.name+"."+e.name,disabled:e.isDisabled,spellcheck:e.spellcheck,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null},animationstart:e.autoFillHack,change:function(t){var i=e.value,n=t.target,r=!!n.checked;if(Array.isArray(i)){var o=e._i(i,null);n.checked?o<0&&(e.value=i.concat([null])):o>-1&&(e.value=i.slice(0,o).concat(i.slice(o+1)))}else e.value=r}}},"input",e.$attrs,!1)):"radio"===e.inputType&&e.mask?i("input",e._b({directives:[{name:"mask",rawName:"v-mask",value:e.mask,expression:"mask"},{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"element",class:["fb-input__field",{"is-focusable":e.isFocusable},{"in-focus":e.inFocus},{"fb-input__field_password":"password"===e.$attrs.type}],attrs:{id:e.inputId,"data-awes":e.$options.name+"."+e.name,disabled:e.isDisabled,spellcheck:e.spellcheck,type:"radio"},domProps:{checked:e._q(e.value,null)},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null},animationstart:e.autoFillHack,change:function(t){e.value=null}}},"input",e.$attrs,!1)):e.mask?i("input",e._b({directives:[{name:"mask",rawName:"v-mask",value:e.mask,expression:"mask"},{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"element",class:["fb-input__field",{"is-focusable":e.isFocusable},{"in-focus":e.inFocus},{"fb-input__field_password":"password"===e.$attrs.type}],attrs:{id:e.inputId,"data-awes":e.$options.name+"."+e.name,disabled:e.isDisabled,spellcheck:e.spellcheck,type:e.inputType},domProps:{value:e.value},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null},animationstart:e.autoFillHack,input:function(t){t.target.composing||(e.value=t.target.value)}}},"input",e.$attrs,!1)):"checkbox"===e.inputType?i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"element",class:["fb-input__field",{"is-focusable":e.isFocusable},{"in-focus":e.inFocus},{"fb-input__field_password":"password"===e.$attrs.type}],attrs:{id:e.inputId,"data-awes":e.$options.name+"."+e.name,disabled:e.isDisabled,spellcheck:e.spellcheck,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null},animationstart:e.autoFillHack,change:function(t){var i=e.value,n=t.target,r=!!n.checked;if(Array.isArray(i)){var o=e._i(i,null);n.checked?o<0&&(e.value=i.concat([null])):o>-1&&(e.value=i.slice(0,o).concat(i.slice(o+1)))}else e.value=r}}},"input",e.$attrs,!1)):"radio"===e.inputType?i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"element",class:["fb-input__field",{"is-focusable":e.isFocusable},{"in-focus":e.inFocus},{"fb-input__field_password":"password"===e.$attrs.type}],attrs:{id:e.inputId,"data-awes":e.$options.name+"."+e.name,disabled:e.isDisabled,spellcheck:e.spellcheck,type:"radio"},domProps:{checked:e._q(e.value,null)},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null},animationstart:e.autoFillHack,change:function(t){e.value=null}}},"input",e.$attrs,!1)):i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"element",class:["fb-input__field",{"is-focusable":e.isFocusable},{"in-focus":e.inFocus},{"fb-input__field_password":"password"===e.$attrs.type}],attrs:{id:e.inputId,"data-awes":e.$options.name+"."+e.name,disabled:e.isDisabled,spellcheck:e.spellcheck,type:e.inputType},domProps:{value:e.value},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null},animationstart:e.autoFillHack,input:function(t){t.target.composing||(e.value=t.target.value)}}},"input",e.$attrs,!1)),e._v(" "),"password"===e.$attrs.type?i("button",{staticClass:"fb-input__eye",attrs:{type:"button",tabindex:"-1","aria-label":e.$lang.SHOW_PASSWORD},on:{click:function(t){return t.preventDefault(),e.togglePassword(t)}}},[i("i",{class:["icon","password"===e.inputType?"icon-eye":"icon-eye2"]})]):e._e()])],1)])},staticRenderFns:[]},void 0,At,void 0,!1,void 0,void 0,void 0),Ot=0,It={name:"fb-multi-block",mixins:[He],props:{label:String},provide:function(){return{multiblock:this.multiblock?this.realName:this.name}},data:function(){return{value:[{}],uniqIds:[]}},computed:{hasClose:function(){return this.value.length>1},errors:function(){return this.$awesForms.getters.formErrorsOrFalse(this.formId)}},watch:{disabled:{handler:function(e){this.$awesForms.commit("toggleMultiblockState",{id:this.formId,multiblock:this.realName,value:e})},immediate:!0}},methods:{initField:function(){if(void 0!==this.computedValue&&this.computedValue.length)for(var e in this.value=this.computedValue,this.computedValue)this.uniqIds.push(Ot++);else this.uniqIds.push(Ot++);this.createStoreInstance(),this.__unwatchValue=this.$watch("value",this.valueHandler)},addField:function(){this.isDisabled||(this.value.push({}),this.uniqIds.push(Ot++),this.updateTooltips())},removeField:function(e){this.isDisabled||(this.$delete(this.value,e),this.uniqIds.splice(e,1),this.updateTooltips())},resetValue:function(){this.value=[{}]},updateTooltips:function(){this.errors&&this.$nextTick(function(){Ft("scroll",window)})}}},Dt=It;It.__file="fb-multi-block.vue";var Tt=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid__wrap"},[i("div",{staticClass:"fb-multiblock",class:[{"fb-multiblock_disabled":this.isDisabled}]},[e._l(e.value,function(t,n){return i("div",{key:"slot-"+e.uniqIds[n],class:["grid__wrap",{"fb-multiblock_has-close":e.hasClose}]},[e._t("default",null,{id:n}),e._v(" "),e.hasClose?i("button",{staticClass:"fb-multiblock__clear",attrs:{"aria-label":"delete"},on:{click:function(t){t.preventDefault(),e.removeField(n)}}},[i("i",{staticClass:"icon icon-cross"})]):e._e()],2)}),e._v(" "),i("div",{staticClass:"grid__wrap"},[i("button",{staticClass:"fb-multiblock__add",on:{click:function(t){return t.preventDefault(),e.addField(t)}}},[e._v("\n        "+e._s(e.label||e.$lang.FORMS_MULTIBLOCK_ADD)+"\n      ")])])],2)])},staticRenderFns:[]},void 0,Dt,void 0,!1,void 0,void 0,void 0),Rt={name:"fb-checkbox",inheritAttrs:!1,mixins:[He,St],props:{label:{type:String,required:!0},padding:{type:Boolean,default:!0}},data:function(){return{value:!1}}},Nt=Rt;Rt.__file="fb-checkbox.vue";var Mt=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid__cell",class:[{grid__cell_padding:e.padding},e.cellClass]},[i("div",{class:["fb-checkbox",{"fb-checkbox_error":e.hasError},{"fb-checkbox_active":e.inActive},{"fb-checkbox_disabled":e.isDisabled}]},[i("label",{staticClass:"fb-checkbox__label",attrs:{"data-awes":e.$options.name+"."+e.name}},[i("fb-error-wrap",{attrs:{open:e.tooltip,error:e.error},on:{clickTooltip:e.clickTooltip}},[i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"element",class:{"is-focusable":e.isFocusable,"in-focus":e.inFocus},attrs:{type:"checkbox",disabled:e.isDisabled},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null},change:function(t){var i=e.value,n=t.target,r=!!n.checked;if(Array.isArray(i)){var o=e._i(i,null);n.checked?o<0&&(e.value=i.concat([null])):o>-1&&(e.value=i.slice(0,o).concat(i.slice(o+1)))}else e.value=r}}},"input",e.$attrs,!1)),e._v(" "),i("span",{staticClass:"fb-checkbox__text"},[i("i",{staticClass:"icon icon-checkbox"}),e._v(" "),i("span",[e._v(e._s(e.label))])])])],1)])])},staticRenderFns:[]},void 0,Nt,void 0,!1,void 0,void 0,void 0),jt=lt(5),Lt=!0;"find"in[]&&Array(1).find(function(){Lt=!1}),x(x.P+x.F*Lt,"Array",{find:function(e){return jt(this,e,arguments.length>1?arguments[1]:void 0)}}),z("find");var Pt=10,Vt={name:"fb-select",mixins:[He],components:{Multiselect:function(e){AWES.utils.loadModules({"vue-multiselect":{src:["https://unpkg.com/vue-multiselect@2.1.3/dist/vue-multiselect.min.js","https://unpkg.com/vue-multiselect@2.1.3/dist/vue-multiselect.min.css"],deps:["vue"],cb:function(){e(window.VueMultiselect.default)}}})}},props:{label:String,selectOptions:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!0},placeholderText:String},data:function(){return{selected:[],isOpened:!1}},computed:{value:{get:function(){return this.multiple?this.selected.map(function(e){return e.value}):this.selected.value},set:function(e){this.multiple?this.selected=this.selectOptions.filter(function(t){return e.includes(t.value)}):this.selected=this.selectOptions.find(function(t){return e===t.value})}},hasValue:function(){return!!(this.multiple?this.value.length:this.value)},inActive:function(){return this.isOpened||this.hasValue}},methods:{resetValue:function(e){this.formId===e&&(this.value=[])},wrapTabEvents:function(){try{this.$refs.select.$el.querySelector(".multiselect__input").classList.add("is-focusable")}catch(e){--Pt&&setTimeout(this.wrapTabEvents,500)}}},mounted:function(){this.$nextTick(this.wrapTabEvents)}},Wt=Vt;Vt.__file="fb-select.vue";var Bt,Ut=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid__cell",class:[e.cellClass]},[i("div",{staticClass:"fb-select",class:[{"fb-select_active":e.inActive},{"fb-select_opened":e.isOpened},{"fb-select_disabled":e.disabled}]},[i("span",{staticClass:"fb-select__label"},[e._v(e._s(e.label||e.$lang.FORMS_SELECT_LABEL))]),e._v(" "),i("multiselect",{ref:"select",staticClass:"fb-select__field",attrs:{"show-labels":!1,multiple:e.multiple,placeholder:e.placeholderText||e.$lang.FORMS_SELECT_PLACEHOLDER,options:e.selectOptions,label:"name","track-by":"value","hide-selected":!0,disabled:e.isDisabled},on:{open:function(t){e.isOpened=!0},close:function(t){e.isOpened=!1}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)])},staticRenderFns:[]},void 0,Wt,void 0,!1,void 0,void 0,void 0),zt=e(function(e,t){!function(e,t){var i,n,r="function"==typeof Map?new Map:(i=[],n=[],{has:function(e){return i.indexOf(e)>-1},get:function(e){return n[i.indexOf(e)]},set:function(e,t){-1===i.indexOf(e)&&(i.push(e),n.push(t))},delete:function(e){var t=i.indexOf(e);t>-1&&(i.splice(t,1),n.splice(t,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function s(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!r.has(e)){var t=null,i=null,n=null,s=function(){e.clientWidth!==i&&d()},a=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach(function(i){e.style[i]=t[i]}),r.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",r.set(e,{destroy:a,update:d}),"vertical"===(l=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===l.resize&&(e.style.resize="horizontal"),t="content-box"===l.boxSizing?-(parseFloat(l.paddingTop)+parseFloat(l.paddingBottom)):parseFloat(l.borderTopWidth)+parseFloat(l.borderBottomWidth),isNaN(t)&&(t=0),d()}var l;function u(t){var i=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=i,e.style.overflowY=t}function c(){if(0!==e.scrollHeight){var n=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",i=e.clientWidth,n.forEach(function(e){e.node.scrollTop=e.scrollTop}),r&&(document.documentElement.scrollTop=r)}}function d(){c();var t=Math.round(parseFloat(e.style.height)),i=window.getComputedStyle(e,null),r="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):e.offsetHeight;if(r<t?"hidden"===i.overflowY&&(u("scroll"),c(),r="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==i.overflowY&&(u("hidden"),c(),r="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),n!==r){n=r;var s=o("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}}function a(e){var t=r.get(e);t&&t.destroy()}function l(e){var t=r.get(e);t&&t.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(e){return e}).destroy=function(e){return e},u.update=function(e){return e}):((u=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return s(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},u.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=u,e.exports=t.default}(e,t)}),Ht={name:"fb-textarea",inheritAttrs:!1,mixins:[He,St],props:{label:{type:String,default:""},fixsize:{type:Boolean,default:!1}},data:function(){return{value:""}},methods:{setAutoResize:function(){this.fixsize||(zt(this.$refs.element),Bt=this.$watch("value",this.updateAutoResize))},updateAutoResize:function(){var e=this;this.$nextTick(function(){zt.update(e.$refs.element)})}},mounted:function(){this.setAutoResize()},beforeDestroy:function(){"function"==typeof Bt&&Bt()}},qt=Ht;Ht.__file="fb-textarea.vue";var Xt=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid__cell",class:[e.cellClass]},[i("div",{staticClass:"fb-textarea",class:{"fb-textarea_disabled":e.isDisabled,"fb-textarea_active":e.inActive,"fb-textarea_error":e.hasError,"animated shake":e.shake}},[i("fb-error-wrap",{attrs:{open:e.tooltip,error:e.error},on:{clickTooltip:e.clickTooltip}},[i("span",{staticClass:"fb-textarea__label"},[e._v(e._s(e.label))]),e._v(" "),i("textarea",e._b({directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"element",class:["fb-textarea__field",{"is-focusable":e.isFocusable},{"in-focus":e.inFocus}],attrs:{disabled:e.isDisabled},domProps:{value:e.value},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},input:function(t){t.target.composing||(e.value=t.target.value)}}},"textarea",e.$attrs,!1))])],1)])},staticRenderFns:[]},void 0,qt,void 0,!1,void 0,void 0,void 0);function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Gt,Zt,Kt,Jt=W("species"),Qt=(Gt=!0,function(e,t){var i,n,r=String(O(e)),o=R(t),s=r.length;return o<0||o>=s?Gt?"":void 0:(i=r.charCodeAt(o))<55296||i>56319||o+1===s||(n=r.charCodeAt(o+1))<56320||n>57343?Gt?r.charAt(o):i:Gt?r.slice(o,o+2):n-56320+(i-55296<<10)+65536}),ei=function(e,t,i){return t+(i?Qt(e,t).length:1)},ti=RegExp.prototype.exec,ii=function(e,t){var i=e.exec;if("function"==typeof i){var n=i.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==et(e))throw new TypeError("RegExp#exec called on incompatible receiver");return ti.call(e,t)},ni=RegExp.prototype.exec,ri=String.prototype.replace,oi=ni,si=(Zt=/a/,Kt=/b*/g,ni.call(Zt,"a"),ni.call(Kt,"a"),0!==Zt.lastIndex||0!==Kt.lastIndex),ai=void 0!==/()??/.exec("")[1];(si||ai)&&(oi=function(e){var t,i,n,o,s=this;return ai&&(i=new RegExp("^"+s.source+"$(?!\\s)",function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}.call(s))),si&&(t=s.lastIndex),n=ni.call(s,e),si&&n&&(s.lastIndex=s.global?n.index+n[0].length:t),ai&&n&&n.length>1&&ri.call(n[0],i,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)}),n});var li=oi;x({target:"RegExp",proto:!0,forced:li!==/./.exec},{exec:li});var ui=W("species"),ci=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),di=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2===i.length&&"a"===i[0]&&"b"===i[1]}(),fi=function(e,t,i){var n=W(e),r=!o(function(){var t={};return t[n]=function(){return 7},7!=""[e](t)}),s=r?!o(function(){var t=!1,i=/a/;return i.exec=function(){return t=!0,null},"split"===e&&(i.constructor={},i.constructor[ui]=function(){return i}),i[n](""),!t}):void 0;if(!r||!s||"replace"===e&&!ci||"split"===e&&!di){var a=/./[n],l=i(O,n,""[e],function(e,t,i,n,o){return t.exec===li?r&&!o?{done:!0,value:a.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}),u=l[0],c=l[1];w(String.prototype,e,u),m(RegExp.prototype,n,2==t?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)})}},hi=Math.min,pi=[].push,mi=!o(function(){});fi("split",2,function(e,t,i,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!X(e))return i.call(n,e,t);for(var r,o,s,a=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,c=void 0===t?4294967295:t>>>0,d=new RegExp(e.source,l+"g");(r=li.call(d,n))&&!((o=d.lastIndex)>u&&(a.push(n.slice(u,r.index)),r.length>1&&r.index<n.length&&pi.apply(a,r.slice(1)),s=r[0].length,u=o,a.length>=c));)d.lastIndex===r.index&&d.lastIndex++;return u===n.length?!s&&d.test("")||a.push(""):a.push(n.slice(u)),a.length>c?a.slice(0,c):a}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)}:i,[function(i,n){var r=e(this),s=null==i?void 0:i[t];return void 0!==s?s.call(i,r,n):o.call(String(r),i,n)},function(e,t){var s=n(o,e,this,t,o!==i);if(s.done)return s.value;var a=r(e),l=String(this),u=function(e,t){var i,n=r(e).constructor;return void 0===n||null==(i=r(n)[Jt])?t:E(i)}(a,RegExp),c=a.unicode,d=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(mi?"y":"g"),f=new u(mi?a:"^(?:"+a.source+")",d),h=void 0===t?4294967295:t>>>0;if(0===h)return[];if(0===l.length)return null===ii(f,l)?[l]:[];for(var p=0,m=0,v=[];m<l.length;){f.lastIndex=mi?m:0;var _,b=ii(f,mi?l:l.slice(m));if(null===b||(_=hi(M(f.lastIndex+(mi?0:m)),l.length))===p)m=ei(l,m,c);else{if(v.push(l.slice(p,m)),v.length===h)return v;for(var g=1;g<=b.length-1;g++)if(v.push(b[g]),v.length===h)return v;m=p=_}}return v.push(l.slice(p)),v}]});var vi=Math.max,_i=Math.min,bi=Math.floor,gi=/\$([$&`']|\d\d?|<[^>]*>)/g,yi=/\$([$&`']|\d\d?)/g;fi("replace",2,function(e,t,i,n){return[function(n,r){var o=e(this),s=null==n?void 0:n[t];return void 0!==s?s.call(n,o,r):i.call(String(o),n,r)},function(e,t){var s=n(i,e,this,t);if(s.done)return s.value;var a=r(e),l=String(this),u="function"==typeof t;u||(t=String(t));var c=a.global;if(c){var d=a.unicode;a.lastIndex=0}for(var f=[];;){var h=ii(a,l);if(null===h)break;if(f.push(h),!c)break;""===String(h[0])&&(a.lastIndex=ei(l,M(a.lastIndex),d))}for(var p,m="",v=0,_=0;_<f.length;_++){h=f[_];for(var b=String(h[0]),g=vi(_i(R(h.index),l.length),0),y=[],k=1;k<h.length;k++)y.push(void 0===(p=h[k])?p:String(p));var w=h.groups;if(u){var E=[b].concat(y,g,l);void 0!==w&&E.push(w);var F=String(t.apply(void 0,E))}else F=o(b,l,g,y,w,t);g>=v&&(m+=l.slice(v,g)+F,v=g+b.length)}return m+l.slice(v)}];function o(e,t,n,r,o,s){var a=n+e.length,l=r.length,u=yi;return void 0!==o&&(o=qe(o),u=gi),i.call(s,u,function(i,s){var u;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(a);case"<":u=o[s.slice(1,-1)];break;default:var c=+s;if(0===c)return i;if(c>l){var d=bi(c/10);return 0===d?i:d<=l?void 0===r[d-1]?s.charAt(1):r[d-1]+s.charAt(1):i}u=r[c-1]}return void 0===u?"":u})}});var ki={name:"fb-code",mixins:[He,St],props:{length:{type:Number,default:6},autoSubmit:{type:Boolean,default:!0}},data:function(){return{inputValue:[],inFocus:[]}},computed:{value:{get:function(){return this.inputValue.join("")},set:function(e){e=e.trim().replace(/\D/g,"").substr(0,this.length),this.inputValue=e.split("")}},hasCaptchaError:function(){return this.$awesForms.getters.hasCaptchaError(this.formId)}},watch:{error:function(e){var t=this;e&&e.length?(this.value="",this.$refs.fields.forEach(function(e){e.addEventListener("input",t.resetError,!1)}),this.$nextTick(function(){t.setFocus()})):this.$refs.fields.forEach(function(e){e.removeEventListener("input",t.resetError)})},hasCaptchaError:function(e){e||this.autoSubmitForm(this.value)}},methods:{setFocus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("boolean"!=typeof e||!0!==e){if("number"==typeof e){e>=this.length&&(e=this.length-1);var t=this.$refs.fields[e];setTimeout(function(){t.focus(),t.setSelectionRange(0,t.value.length)},10)}}else this.$refs.fields[0].focus()},onInput:function(e,t){var i=e.target.value.replace(/\D/g,"");e.target.value=i,this.$set(this.inputValue,t,i),this.isEmpty(t)||t===this.length-1||this.setFocus(t+1)},onBackspace:function(e,t){this.setFocus(t-1)},onLeft:function(e,t){this.setFocus(t-1)},onRight:function(e,t){this.setFocus(t+1)},onPaste:function(e){this.error&&this.error.length&&this.resetError(),this.value=e.clipboardData.getData("text")},isEmpty:function(e){return""===this.inputValue[e]||"undefined"===Yt(this.inputValue[e])},autoSubmitForm:function(e){this.hasCaptchaError||e.length===this.length&&this.$root.$emit("forms:submit",this.formId)}},created:function(){for(var e=0;e<this.length;e++)this.inFocus.push(!(0!==e||!this.focus)),this.inputValue.push("");this.autoSubmit&&(this.__unwatchFormSubmit=this.$watch("value",this.autoSubmitForm))},beforeDestroy:function(){var e=this;this.$refs.fields.forEach(function(t){t.removeEventListener("input",e.resetError)}),this.__unwatchFormSubmit&&this.__unwatchFormSubmit()}},wi=ki;ki.__file="fb-code.vue";var Ei=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["fb-keycode",{"animated shake":e.shake},{"fb-keycode_disabled":e.isDisabled}]},[i("div",{staticClass:"fb-keycode__block"},[i("fb-error-wrap",{attrs:{open:e.tooltip,error:e.error},on:{clickTooltip:e.clickTooltip}},[i("div",{staticClass:"fb-keycode__wrap",attrs:{id:"keywrap"}},e._l(e.length,function(t){return i("div",{key:t,staticClass:"fb-keycode__field-wrap"},[i("input",{ref:"fields",refInFor:!0,class:["fb-keycode__field",{"is-focusable":e.isFocusable,"in-focus":e.inFocus[t-1]}],attrs:{type:"tel",inputmode:"numeric",pattern:"[0-9]*",maxlength:"1",disabled:e.isDisabled},domProps:{value:e.inputValue[t-1]},on:{focus:function(i){e.inFocus[t-1]=!0},blur:function(i){e.inFocus[t-1]=!1},keydown:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null},function(i){if(!("button"in i)&&e._k(i.keyCode,"backspace",void 0,i.key,void 0))return null;t>1&&e.onBackspace(i,t-1)},function(i){return"button"in i||!e._k(i.keyCode,"left",37,i.key,["Left","ArrowLeft"])?"button"in i&&0!==i.button?null:void(t>1&&e.onLeft(i,t-1)):null},function(i){return"button"in i||!e._k(i.keyCode,"right",39,i.key,["Right","ArrowRight"])?"button"in i&&2!==i.button?null:void(t<e.length&&e.onRight(i,t-1)):null}],input:function(i){e.onInput(i,t-1)},paste:function(t){return t.preventDefault(),e.onPaste(t)}}})])}),0)])],1)])},staticRenderFns:[]},void 0,wi,void 0,!1,void 0,void 0,void 0),Fi={domain:"awescrm.de",length:32,ulrifyOptions:{spaces:"-",toLower:!0,trim:!0,addEToUmlauts:!0,nonPrintable:"",failureOutput:""}},Si={name:"fb-company-slug",extends:$t,props:{domain:String,input:{type:String,required:!0},maxLength:Number},data:function(){return{watchInput:!0}},computed:{fromName:function(){return this.multiblock?"".concat(this.multiblock,".").concat(this.id,".").concat(this.input):this.input},fromValue:function(){return this.$awesForms.getters.fieldValue(this.formId,this.fromName)}},watch:{fromValue:function(e){this.watchInput&&e&&(this.value=this.noramlizeUrl(e))}},methods:{noramlizeUrl:function(e){return this._toUrl(e).substr(0,this.maxlength)},toggleWatcher:function(e){""===e.target.value?this.watchInput=!0:this.watchInput&&(this.watchInput=!1)},slugBlur:function(e){this.inFocus=!1,this.watchInput||(this.value=this.noramlizeUrl(e.target.value))}},beforeCreate:function(){this._config=Object.assign({},Fi,AWES._config.companySlug),this._toUrl=Urlify.create(this._config.ulrifyOptions)}},xi=Si;Si.__file="fb-company-slug.vue";var Ci=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid__cell",class:[e.cellClass]},[i("div",{class:["fb-slug",{"fb-slug_disabled":e.isDisabled,"fb-slug_active":e.inActive,"fb-slug_error":e.hasError,"animated shake":e.shake}]},[i("fb-error-wrap",{attrs:{open:e.tooltip,error:e.error},on:{clickTooltip:e.clickTooltip}},[i("div",{staticClass:"fb-slug__group-wrap"},[i("span",{staticClass:"fb-slug__group-field"},[i("label",{staticClass:"fb-slug__label",attrs:{for:"#"+e.inputId}},[e._v(e._s(e.label))]),e._v(" "),i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"element",class:["fb-slug__field",{"is-focusable":e.isFocusable},{"in-focus":e.inFocus}],attrs:{id:e.inputId,"data-awes":e.$options.name+"."+e.name,maxlength:e.maxLength||e._config.length,type:"text",disabled:e.isDisabled},domProps:{value:e.value},on:{input:[function(t){t.target.composing||(e.value=t.target.value)},e.toggleWatcher],focus:function(t){e.inFocus=!0},blur:e.slugBlur,keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null}}},"input",e.$attrs,!1))]),e._v(" "),i("span",{staticClass:"fb-slug__group-label"},[e._v("."+e._s(e.domain||e._config.domain))])])])],1)])},staticRenderFns:[]},void 0,xi,void 0,!1,void 0,void 0,void 0),Ai={name:"fb-auto-captcha",mixins:[He],components:{vueRecaptcha:function(e){return AWES.utils.loadModule("vue-recaptcha","https://unpkg.com/vue-recaptcha@latest/dist/vue-recaptcha.min.js",function(){e(window.VueRecaptcha)})}},props:{show:{type:Boolean,default:!1},name:{type:String,default:"g-recaptcha-response"}},data:function(){return{value:null,sitekey:AWES_CONFIG.reCaptchaSiteKey,serverError:!1,reset:!1}},computed:{realName:function(){return"g-recaptcha-response"},isShow:function(){return this.show||this.serverError},theme:function(){try{var e=this.$store.state.theme;return e&&1===e.theme_dark?"dark":"light"}catch(e){return"light"}}},watch:{error:function(e){e&&e.length&&(this.serverError=!0)},formLoading:function(e){var t=this;!e&&this.isShow&&this.$nextTick(function(){t.$refs.recaptcha.reset()})},theme:function(){var e=this;this.isShow&&(this.reset=!0,this.$nextTick(function(){e.reset=!1}))}},methods:{onVerify:function(e){this.value=e,this.resetError()},manageCaptchaScript:function(e){switch(e){case"add":if(!document.getElementById("g-captcha-script")){var t=document.createElement("script");t.setAttribute("id","g-captcha-script"),t.setAttribute("src","https://www.google.com/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit"),document.head.appendChild(t)}break;case"remove":document.getElementById("g-captcha-script").remove()}}},created:function(){this.$isServer||this.manageCaptchaScript("add")},beforeDestroy:function(){this.manageCaptchaScript("remove")}},$i=Ai;Ai.__file="fb-auto-captcha.vue";var Oi=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShow&&!e.reset?i("div",{class:["grid__cell",e.cellClass]},[i("fb-error-wrap",{attrs:{open:e.tooltip,error:e.error},on:{clickTooltip:e.clickTooltip}},[i("vue-recaptcha",{ref:"recaptcha",staticClass:"re-captcha",attrs:{sitekey:e.sitekey,theme:e.theme},on:{verify:e.onVerify,expired:function(t){e.value=null}}})],1)],1):e._e()},staticRenderFns:[]},void 0,$i,void 0,!1,void 0,void 0,void 0),Ii={name:"fb-radio-group",mixins:[He,St],props:{items:Array},data:function(){return{value:null,inFocus:[]}},methods:{checkActive:function(e){return e.value?this.value===e.value:this.value===e.toString()},setFocus:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"number"==typeof e?this.$refs.elements[e].focus():!0===e&&this.$refs.elements[0].focus()}},created:function(){for(var e=0;e<this.items.length;e++)this.inFocus.push(!(0!==e||!this.focus))}},Di=Ii;Ii.__file="fb-radio-group.vue";var Ti=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.items&&e.items.length?i("div",{staticClass:"grid__cell",class:[e.cellClass]},[i("div",{staticClass:"fc-radio",class:[{"animated shake":e.shake,"fc-radio_disabled":e.isDisabled}]},[i("fb-error-wrap",{attrs:{open:e.tooltip,error:e.error},on:{clickTooltip:e.clickTooltip}},[i("div",{staticClass:"fc-radio__wrap"},e._l(e.items,function(t,n){return i("label",{key:n,class:["fc-radio__box",{"is-checked":e.checkActive(t)}]},[i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"fields",refInFor:!0,class:["fc-radio__field",{"is-focusable":e.isFocusable},{"in-focus":e.inFocus}],attrs:{type:"radio","data-awes":e.$options.name+"."+e.name,disabled:e.isDisabled},domProps:{value:t.value?t.value:t.toString(),checked:e._q(e.value,t.value?t.value:t.toString())},on:{focus:function(t){e.$set(e.inFocus,n,!0)},blur:function(t){e.$set(e.inFocus,n,!1)},keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null},change:function(i){e.value=t.value?t.value:t.toString()}}},"input",e.$attrs,!1)),e._v(" "),e._t("default",[i("span",{staticClass:"fc-radio__text"},[e._v(e._s(t.name?t.name:t.toString()))])],{item:t,checked:e.checkActive(t),focused:e.inFocus[n]})],2)}),0)])],1)]):e._e()},staticRenderFns:[]},void 0,Di,void 0,!1,void 0,void 0,void 0),Ri=0,Ni={name:"fb-slider",inheritAttrs:!1,mixins:[He,St],props:{label:{type:String,default:""},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100}},data:function(){return{value:0,inputType:this.$attrs.type||"text",autoFilled:!1}},computed:{inputId:function(){return"slider-"+Ri++},percent:function(){return Math.round(Number(this.value)/Number(this.max)*100)}}},Mi=Ni;Ni.__file="fb-slider.vue";var ji=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid__cell",class:[e.cellClass]},[i("div",{class:["fb-slider",{"fb-slider_disabled":e.isDisabled,"fb-slider_active":e.inActive,"fb-slider_error":e.hasError,"animated shake":e.shake}]},[i("fb-error-wrap",{attrs:{open:e.tooltip,error:e.error},on:{clickTooltip:e.clickTooltip}},[i("div",{staticClass:"fb-slider__wrap"},[i("div",{staticClass:"fb-slider__wrap-left"},[i("label",{staticClass:"fb-slider__label",attrs:{for:"#"+e.inputId}},[e._v(e._s(e.label))]),e._v(" "),i("span",{staticClass:"fb-slider__value"},[e._v(e._s(e.percent)+" %")])]),e._v(" "),i("div",{staticClass:"fb-slider__wrap-right"},[i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"element",class:["fb-slider__field",{"is-focusable":e.isFocusable},{"in-focus":e.inFocus}],style:"--percent: "+e.percent+"%",attrs:{id:e.inputId,"data-awes":e.$options.name+"."+e.name,type:"range",disabled:e.isDisabled},domProps:{value:e.value},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null},__r:function(t){e.value=t.target.value}}},"input",e.$attrs,!1))])])])],1)])},staticRenderFns:[]},void 0,Mi,void 0,!1,void 0,void 0,void 0),Li=20,Pi={name:"fb-phone",mixins:[He,St],components:{VueTelInput:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return AWES.utils.loadModule("vue-tel-input",["https://unpkg.com/vue-tel-input@2.0.13/dist/vue-tel-input.js","https://unpkg.com/vue-tel-input@2.0.13/dist/vue-tel-input.css"],function(){e(VueTelInput.default)})})},props:{label:String},data:function(){return{nativeTelInput:!1,value:""}},methods:{setFocusWatcher:function(){var e=this;this.$refs.tel&&(this.nativeTelInput=this.$refs.tel.$refs.input,this.nativeTelInput.addEventListener("focus",function(){e.inFocus=!0}),this.setFocusableClass(),this.setFocusClass())},setFocusClass:function(){this.nativeTelInput.classList[this.inFocus?"add":"remove"]("in-focus"),Li=20},setFocusableClass:function(){this.nativeTelInput.classList[this.isFocusable?"add":"remove"]("is-focusable"),Li=20},setFocus:function(e){var t=this;try{var i=!1!==e?"focus":"blur";this.nativeTelInput[i]()}catch(i){Li&&(Li--,setTimeout(function(){t.setFocus(e)},1e3))}},checkFocus:function(){this.inFocus||this.setFocus()}},watch:{inFocus:function(){try{this.setFocusClass()}catch(e){Li&&(Li--,setTimeout(this.setFocusClass,1e3))}},isFocusable:function(){try{this.setFocusableClass()}catch(e){Li&&(Li--,setTimeout(this.setFocusableClass,1e3))}}},mounted:function(){this.setFocusWatcher()},updated:function(){this.nativeTelInput||this.setFocusWatcher()}},Vi=Pi;Pi.__file="fb-phone.vue";var Wi=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid__cell",class:[e.cellClass]},[i("div",{class:["fb-phone",{"fb-phone_disabled":e.isDisabled,"animated shake":e.shake,"fb-phone_active":e.inActive,"fb-phone_error":e.hasError}]},[i("span",{staticClass:"fb-phone__label"},[e._v(e._s(e.label))]),e._v(" "),i("vue-tel-input",{ref:"tel",attrs:{disabled:e.isDisabled},on:{onBlur:function(t){e.inFocus=!1},onInput:e.checkFocus},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)])},staticRenderFns:[]},void 0,Vi,void 0,!1,void 0,void 0,void 0),Bi={name:"fb-uploader",mixins:[He],props:{url:{type:String,required:!0},format:{type:[String,Array]},size:[String,Number],validator:function(e){return+e==e}},data:function(){return{value:[],filesProgress:{}}},filters:{timestampToDate:function(e){var t=new Date(e);return"".concat(t.getDate(),".").concat(t.getMonth()+1,".").concat(t.getFullYear()+1)},bytesToMb:function(e){var t=e/1024/1024;return(t<1?t.toFixed(3):t.toFixed(1))+"Mb"}},computed:{uploaderOptions:function(){return{target:this.url,testChunks:!1}},formatArray:function(){return this.format&&Array.isArray(this.format)?this.format:this.format.split(",").map(function(e){return e.trim()})},formatString:function(){return this.format&&Array.isArray(this.format)?this.format.concat(", "):this.format},maxSizeBytes:function(){return 1024*this.size*1024}},methods:{checkFile:function(e){this.format&&!this._extensionMatch(e)&&(e.ignored=!0,this.showError(this.$lang.FORMS_UPLOADER_EXTENSION_ERROR.replace("%s",e.name))),this.size&&e.size>this.maxSizeBytes&&(e.ignored=!0,this.showError(this.$lang.FORMS_UPLOADER_SIZE_ERROR.replace("%s",e.name)))},showError:function(e){AWES.notify({status:"error",message:e})},setProgress:function(e){this.$set(this.filesProgress,e.uniqueIdentifier,e.progress())},getExtension:function(e){return e.split(".").pop()},getName:function(e){var t=e.split(".");return t.pop(),t.join(".")},_extensionMatch:function(e){var t=this.getExtension(e.name);return this.formatArray.includes(t)},toggleFormBlock:function(e){this.$awesForms.commit("toggleFormBlocked",{id:this.formId,isBlocked:e}),e||this.$forceUpdate()},addFileNameToForm:function(e,t,i,n){delete this.filesProgress[t.uniqueIdentifier];try{var r=JSON.parse(i),o=_.get(r,"meta.path",t.relativePath);this.value.push(o)}catch(e){console.log(e)}},removeFile:function(e,t){e.isComplete()&&this.value.splice(t,1),e.cancel(),delete this.filesProgress[e.uniqueIdentifier]}}},Ui=Bi;Bi.__file="fb-uploader.vue";var zi=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid__cell"},[i("uploader",{staticClass:"fb-uploader",class:{"fb-uploader_disabled":e.isDisabled},attrs:{options:e.uploaderOptions},on:{"file-added":e.checkFile,"file-progress":e.setProgress,"file-success":e.addFileNameToForm,"upload-start":function(t){e.toggleFormBlock(!0)},complete:function(t){e.toggleFormBlock(!1)}}},[i("uploader-unsupport"),e._v(" "),i("uploader-drop",[i("p",{staticClass:"fb-uploader__message"},[e._v("\n                "+e._s(e.$lang.FORMS_UPLOAD_DROP)+"\n                "),i("span",{staticClass:"fb-uploader__fakebtn"},[e._v(e._s(e.$lang.FORMS_UPLOAD_ADD))]),e._v(" "),i("uploader-btn",{staticClass:"fb-uploader__btn"},[i("span",[e._v(e._s(e.$lang.FORMS_UPLOAD_ADD))])])],1),e._v(" "),e.format||e.size?i("p",[e.format?i("i",{staticClass:"fb-uploader__formats"},[e._v("\n                    "+e._s(e.$lang.FORMS_UPLOAD_FORMAT)+" "+e._s(e.formatString)+".\n                ")]):e._e(),e._v(" "),e.size?i("i",{staticClass:"fb-uploader__size"},[e._v("\n                    "+e._s(e.$lang.FORMS_UPLOAD_SIZE)+" "+e._s(e.size)+"Mb\n                ")]):e._e()]):e._e()]),e._v(" "),i("uploader-list",{scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("list",[t.fileList.length?i("div",{staticClass:"fb-uploader__cwrap"},[i("table",{staticClass:"fb-uploader__list"},[i("tbody",[e._l(t.fileList,function(t,n){return[i("tr",{key:t.id},[i("td",{staticClass:"fb-uploader__list-number"},[e._v(e._s(n+1))]),e._v(" "),i("td",{staticClass:"fb-uploader__list-name"},[i("span",{staticClass:"fb-uploader__list-ftitle"},[e._v(e._s(e.getName(t.name)))])]),e._v(" "),i("td",{staticClass:"fb-uploader__list-type"},[e._v(e._s(e.getExtension(t.name)))]),e._v(" "),i("td",{staticClass:"fb-uploader__list-size"},[e._v(e._s(e._f("bytesToMb")(t.size)))]),e._v(" "),i("td",{staticClass:"fb-uploader__list-date"},[t.isComplete()?[e._v("\n                                                "+e._s(e._f("timestampToDate")(t._lastProgressCallback))+"\n                                            ")]:e._e()],2),e._v(" "),i("td",{staticClass:"fb-uploader__list-delete"},[i("button",{staticClass:"fb-uploader__delete",attrs:{title:e.$lang.FORMS_UPLOAD_DELETE,"aria-label":e.$lang.FORMS_UPLOAD_DELETE},on:{click:function(i){i.preventDefault(),e.removeFile(t,n)}}},[e._v("×")])])]),e._v(" "),t.isComplete()?e._e():i("tr",{key:t.id+"loader",staticClass:"fb-uploader__list-pgwrap"},[i("td",{staticClass:"fb-uploader__list-progress",attrs:{colspan:"6"}},[i("progress",{staticClass:"fb-uploader__progress",attrs:{max:"1"},domProps:{value:e.filesProgress[t.uniqueIdentifier]}})])])]})],2)])]):e._e()],{fileList:t.fileList,removeFile:e.removeFile})]}}])})],1)],1)},staticRenderFns:[]},void 0,Ui,void 0,!1,void 0,void 0,void 0);var Hi={branding:!1,statusbar:!1,menubar:!1,fontsize_formats:"10px 12px 14px 16px 18px 24px 36px",plugins:"lists",toolbar:["fontselect fontsizeselect bold italic underline numlist bullist"],setup:function(){this.on("ExecCommand",function(e){"FontName"===e.command&&(e.target.getDoc().body.style.fontFamily=e.value)})},init_instance_callback:function(){this.execCommand("FontName",!1,"Arial")}};var qi,Xi={lineNumbers:!0,autoCloseBrackets:!0,matchBrackets:!0,autoCloseTags:!0,matchTags:!0,mode:"htmlmixed"},Yi=0,Gi={name:"fb-editor",mixins:[He],props:{options:{type:Object,default:function(){return{}}}},data:function(){return{editorId:"fb-editor-"+Yi,codeEditorId:"fb-code-editor-"+Yi++,mode:"visual",codeEditorInited:!1,value:""}},watch:{mode:function(e){"visual"===e?(this._saveCode(),tinymce.get(this.editorId).setContent(this.value)):(this._saveVisual(),this.codeEditorInited?this._setCodeValue():AWES.utils.loadModules({codemirror:{src:["https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/codemirror.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/codemirror.css"]},"codemirror-plugins":{deps:["codemirror"],src:["https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/mode/xml/xml.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/addon/fold/xml-fold.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/addon/edit/matchbrackets.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/addon/edit/closebrackets.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/addon/edit/matchtags.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/addon/edit/closetag.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/mode/htmlmixed/htmlmixed.min.js"]}}).then(this.initCodeEditor).then(this._setCodeValue))}},methods:{initEditor:function(){var e=this;Hi.selector="#"+this.editorId;var t=_.get(AWES._config,"formBuilder.fbEditor",{});Object.assign(t,this.options,Hi),tinymce.init(t);var i=tinymce.get(this.editorId);i.on("Change",_.debounce(this.save,1e3)),void 0!==Yt(AWES._theme)&&i.once("Init",function(){e._switchThemeAttribute({detail:AWES._theme})})},initCodeEditor:function(){return this.codeEditorInited=!0,(qi=CodeMirror.fromTextArea(this.$refs.code,Xi)).on("update",_.debounce(this.save,1e3)),qi},save:function(){"visual"===this.mode?this._saveVisual():this._saveCode()},_saveVisual:function(){this.value=tinymce.get(this.editorId).save()},_saveCode:function(){qi&&(this.value=qi.doc.getValue())},_setCodeValue:function(){qi.doc.setValue(this.value),setTimeout(function(){qi.refresh()},1)},_switchThemeAttribute:function(e){var t=tinymce.get(this.editorId).getDoc();1===e.detail?t.documentElement.setAttribute("data-dark",!0):t.documentElement.removeAttribute("data-dark")}},mounted:function(){AWES.on("form-builder:before-send",this.save),this.$nextTick(this.initEditor),void 0!==Yt(AWES._theme)&&AWES.on("theme.change",this._switchThemeAttribute)},beforeDestroy:function(){AWES.off("form-builder:before-send",this.save),void 0!==Yt(AWES._theme)&&AWES.off("theme.change",this._switchThemeAttribute)}},Zi=Gi;Gi.__file="fb-editor.vue";var Ki=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid__cell",class:e.cellClass},[i("div",{staticClass:"fb-editor",class:[{"fb-editor_disabled":e.isDisabled}]},[i("div",{staticClass:"fb-editor__modes"},[i("button",{class:["fb-editor__modes-button",{"is-active":"visual"===e.mode}],attrs:{type:"button"},on:{click:function(t){e.mode="visual"}}},[e._v("\n                "+e._s(e.$lang.FORMS_EDITOR_VISUAL)+"\n            ")]),e._v(" "),i("button",{class:["fb-editor__modes-button",{"is-active":"code"===e.mode}],attrs:{type:"button"},on:{click:function(t){e.mode="code"}}},[e._v("\n                "+e._s(e.$lang.FORMS_EDITOR_CODE)+"\n            ")])]),e._v(" "),i("div",{staticClass:"fb-editor__tabs"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"visual"===e.mode,expression:"mode === 'visual'"}],key:"visual",staticClass:"fb-editor__tab"},[i("textarea",{staticClass:"fb-editor__tiny",attrs:{id:e.editorId,disabled:e.isDisabled}},[e._v(e._s(e.value))])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"code"===e.mode,expression:"mode === 'code'"}],key:"code",staticClass:"fb-editor__tab"},[i("textarea",{ref:"code",staticClass:"fb-editor__codemirror",attrs:{id:e.codeEditorId,disabled:e.isDisabled}},[e._v(e._s(e.value))])])])])])},staticRenderFns:[]},void 0,Zi,void 0,!1,void 0,void 0,void 0),Ji={name:"fb-group"},Qi=Ji;Ji.__file="fb-group.vue";var en=J({render:function(e,t){return(0,t._c)("div",{staticClass:"grid__cell-group"},[t._t("default")],2)},staticRenderFns:[]},void 0,Qi,void 0,!0,void 0,void 0,void 0),tn={name:"fb-switcher",inheritAttrs:!1,mixins:[He,St],props:{label:{type:String,required:!0},padding:{type:Boolean,default:!0}},data:function(){return{value:0}},methods:{checkClick:function(e){this._clickTimestamp=(new Date).getTime(),this._value=this.value,window.addEventListener("mouseup",this.mouseReleased,!1)},mouseReleased:function(){window.removeEventListener("mouseup",this.mouseReleased,!1),(new Date).getTime()-this._clickTimestamp<500&&this._value===this.value&&setTimeout(this.toggleValue,0),delete this._clickTimestamp,delete this._value},toggleValue:function(){this.isDisabled||(this.value=this.value?0:1)}}},nn=tn;tn.__file="fb-switcher.vue";var rn=J({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid__cell",class:[{grid__cell_padding:e.padding},e.cellClass]},[i("div",{class:["fb-switcher",{"fb-switcher_error":e.hasError,"fb-switcher_active":e.value,"fb-switcher_disabled":e.isDisabled}],on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?e.toggleValue(t):null}}},[i("fb-error-wrap",{attrs:{open:e.tooltip,error:e.error},on:{clickTooltip:e.clickTooltip}},[i("div",{staticClass:"fb-switcher__field-wrap",attrs:{"data-awes":e.$options.name+"."+e.name}},[i("input",e._b({directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],ref:"element",staticClass:"fb-switcher__field",class:{"is-focusable":e.isFocusable,"in-focus":e.inFocus},attrs:{type:"range",min:"0",max:"1",step:"1",disabled:e.isDisabled},domProps:{value:e.value},on:{focus:function(t){e.inFocus=!0},blur:[function(t){e.inFocus=!1},function(t){e.$forceUpdate()}],keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.focusNext(t)):null},mousedown:e.checkClick,__r:function(t){e.value=e._n(t.target.value)}}},"input",e.$attrs,!1))]),e._v(" "),i("span",{staticClass:"fb-switcher__label",on:{click:e.toggleValue}},[e._v(e._s(e.label))])])],1)])},staticRenderFns:[]},void 0,nn,void 0,!1,void 0,void 0,void 0);var on={installed:!1,install:function(e){this.installed||(this.installed=!0,e.component("form-builder",ee),e.component("fb-group",en),e.component("fb-error-wrap",ne),e.component("fb-switcher",rn),e.component("fb-input",$t),e.component("fb-multi-block",Tt),e.component("fb-checkbox",Mt),e.component("fb-select",Ut),e.component("fb-textarea",Xt),e.component("fb-code",Ei),e.component("fb-company-slug",function(e){AWES.utils.loadModule("urlify","https://unpkg.com/urlify@0.3.6/dist/urlify.js",function(){e(Ci)})}),e.component("fb-auto-captcha",Oi),e.component("fb-radio-group",Ti),e.component("fb-slider",ji),e.component("fb-phone",Wi),e.component("fb-uploader",function(e){AWES.utils.loadModule("vue-simple-uploader","https://unpkg.com/vue-simple-uploader@0.5.6/dist/vue-uploader.js",function(){e(zi)})}),e.component("fb-editor",function(e){AWES.utils.loadModules({"tiny-mce":"https://cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.2/tinymce.min.js","tiny-mce-plugins":{deps:["tiny-mce"],src:["https://cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.2/plugins/lists/plugin.min.js"]}}).then(function(){e(Ki)})}))}},sn={FORMS_SEND:"Send",FORMS_CANCEL:"Cancel",FORMS_LOADING:"Loading...",FORMS_CONFIRM:"Are you shure? All not submitted data will be erased...",FORMS_MULTIBLOCK_ADD:"+ add",FORMS_SELECT_LABEL:"Select a value",FORMS_SELECT_PLACEHOLDER:"Pick a value",FORMS_UPLOAD_DROP:"Drag and drop file or",FORMS_UPLOAD_ADD:"Add file",FORMS_UPLOAD_FORMAT:"File formats only",FORMS_UPLOAD_SIZE:"Size of files no more then",FORMS_UPLOAD_REMOVE:"Remove file",FORMS_UPLOADER_EXTENSION_ERROR:"File %s has wrong extension",FORMS_UPLOADER_SIZE_ERROR:"File %s is too big",FORMS_EDITOR_VISUAL:"Visual",FORMS_EDITOR_CODE:"Code"};function an(e,t,i,n){var r=e.forms.find(function(e){return e.id==t}),o=e.forms.findIndex(function(e){return e.id==t});null===n?_.unset(r,i):_.set(r,i,n),Vue.set(e.forms,o,r)}var ln={state:{forms:[]},getters:{form:function(e){return function(t){return e.forms.find(function(e){return e.id==t})}},formErrorsOrFalse:function(e,t){return function(e){var i=t.form(e).errors;return!!Object.keys(i).length&&i}},isEdited:function(e,t){return function(e){return t.form(e).isEdited}},isBlocked:function(e,t){return function(e){return t.form(e).isBlocked}},fieldValue:function(e,t){return function(e,i){return _.get(t.form(e).workingState,i)}},fieldError:function(e,t){return function(e,i){return _.get(t.form(e).errors,i)}},firstErrorField:function(e,t){return function(e){return t.form(e).firstErrorField}},workingState:function(e,t){return function(e){return t.form(e).workingState}},loading:function(e,t){return function(e){return t.form(e).loading}},multiblockDisabled:function(e,t){return function(e,i){return _.get(t.form(e).multiblockState,i)}},hasCaptchaError:function(e,t){return function(e){return!!t.form(e).errors.hasOwnProperty("g-recaptcha-response")}}},mutations:{createForm:function(e,t){if(this.getters.form(t.id))throw new Error("Form with ID ".concat(t.id," already exists"));var i;e.forms.push({id:(i=t).id,url:i.url,initialState:{_method:i.method},realFields:[],workingState:{},loading:!1,isEdited:!1,isBlocked:!1,editCounter:0,errors:{},firstErrorField:null,multiblockState:{}})},deleteForm:function(e,t){var i=e.forms.findIndex(function(e){return e.id===t});-1!==i?Vue.delete(e.forms,i):console.warn("No form to delete with id: "+t)},setDefaultData:function(e,t){var i=t.id,n=t.fields,r=this.getters.form(i);r.initialState=_.merge(r.initialState,_.cloneDeep(n)),r.workingState=_.cloneDeep(r.initialState)},resetFormEdited:function(e,t){this.getters.form(t).isEdited=!1},setErrors:function(e,t){var i=t.id,n=t.errors,r=this.getters.form(i);r.firstErrorField=Object.keys(n)[0],r.errors=n},resetError:function(e,t){var i=t.id,n=t.fieldName,r=this.getters.form(i);r&&(delete r.errors[n],an(e,i,"errors",r.errors))},resetErrors:function(e,t){this.getters.form(t).errors={}},renameError:function(e,t){var i=t.id,n=t.oldName,r=t.newName,o=t.message,s=this.getters.form(i);Vue.set(s.errors,r,o),Vue.delete(s.errors,n)},setField:function(e,t){var i=t.id,n=t.fieldName,r=t.value,o=t.initial;an(e,i,"workingState.".concat(n),r);var s=this.getters.form(i);o&&s.realFields.push(n),!0!==o&&(s.editCounter+=1,s.isEdited=!0)},unsetRealField:function(e,t){var i=t.id,n=t.fieldName,r=this.getters.form(i);if(r){var o=r.realFields.indexOf(n);Vue.delete(r.realFields,o)}},toggleFormLoading:function(e,t){var i=t.id,n=t.isLoading;this.getters.form(i).loading=n},toggleFormBlocked:function(e,t){var i=t.id,n=t.isBlocked;this.getters.form(i).isBlocked=n},toggleMultiblockState:function(e,t){var i=t.id,n=t.multiblock,r=t.value;this.getters.form(i);an(e,i,"multiblockState.".concat(n),r)},resetFirstErrorField:function(e,t){this.getters.form(t).firstErrorField=null}}},un={state:{},mutations:{setData:function(e,t){var i=t.param,n=t.data;Vue.set(e,i,n)}}},cn={modules:{vue:{src:"https://unpkg.com/vue@2.5.21/dist/vue.min.js",cb:function(){Vue.use(on)}},lodash:"https://unpkg.com/lodash@4.17.11/lodash.min.js",vuex:{src:"https://unpkg.com/vuex@2.5.0/dist/vuex.min.js",deps:["vue"],cb:function(){AWES._store=AWES._store||new Vuex.Store(un),Vue.prototype.$awesForms=new Vuex.Store(ln)}},"vue-shortkey":{src:"https://unpkg.com/vue-shortkey@3",deps:["vue"],cb:function(){Vue.use(VueShortkey)}},"v-tooltip":{src:"https://unpkg.com/v-tooltip@2.0.0-rc.33/dist/v-tooltip.min.js",deps:["vue"],cb:function(){VTooltip.default.options.popover=Object.assign(VTooltip.default.options.popover,{defaultPlacement:"right",defaultAutoHide:!1,defaultTrigger:"manual",defaultPopperOptions:{modifiers:{flip:{behavior:["right","top"]}}}})}},"vue-the-mask":{src:"https://unpkg.com/vue-the-mask@0.11.1/dist/vue-the-mask.js",deps:["vue"]}},install:function(){AWES.lang=sn}};window&&"AWES"in window?AWES.use(cn):(window.__awes_plugins_stack__=window.__awes_plugins_stack__||[],window.__awes_plugins_stack__.push(cn))}();
